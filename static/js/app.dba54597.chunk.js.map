{"version":3,"file":"static/js/app.dba54597.chunk.js","mappings":"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","sources":["D2App/helpers/cacheBuster.js","D2App/helpers/validators.js","D2App/helpers/handleHTML.js","D2App/helpers/locales.js","D2App/components/loader.js","D2App/providers/login-config-context.js","D2App/providers/login-config-provider.js","D2App/helpers/getHashFromLocation.js","D2App/providers/use-login-config.js","D2App/components/pop-up.js","webpack://@dhis2/app-shell/./src/D2App/components/back-to-login-button.module.css?3a53","D2App/components/back-to-login-button.js","webpack://@dhis2/app-shell/./src/D2App/components/form-notice.module.css?909d","D2App/components/form-notice.js","webpack://@dhis2/app-shell/./src/D2App/components/form-subtitle.module.css?d01c","D2App/components/form-subtitle.js","webpack://@dhis2/app-shell/./src/D2App/components/account-creation-form.module.css?f633","D2App/components/account-creation-form.js","webpack://@dhis2/app-shell/./src/D2App/components/form-container.module.css?7efc","D2App/components/form-container.js","webpack://@dhis2/app-shell/./src/D2App/components/login-links.module.css?1bed","D2App/components/login-links.js","D2App/components/not-allowed-notice.js","webpack://@dhis2/app-shell/./src/D2App/components/oidc-login-options.module.css?6fdc","D2App/components/oidc-login-options.js","D2App/hooks/useLogin.js","D2App/helpers/redirectHelpers.js","D2App/hooks/useGetErrorIfNotAllowed.js","D2App/pages/complete-registration.js","D2App/pages/create-account.js","webpack://@dhis2/app-shell/./src/D2App/pages/login.module.css?6404","D2App/pages/login.js","webpack://@dhis2/app-shell/./src/D2App/pages/password-reset-request.module.css?1164","D2App/pages/password-reset-request.js","webpack://@dhis2/app-shell/./src/D2App/pages/password-update.module.css?5ed0","D2App/pages/password-update.js","D2App/pages/safe-mode.js","D2App/templates/standard.js","D2App/templates/sidebar.js","webpack://@dhis2/app-shell/./src/D2App/pages/download-html.module.css?b487","D2App/pages/download-html.js","D2App/locales/index.js","D2App/app.js"],"sourcesContent":["// Cache version - increment this when you want to force a cache clear\nconst CACHE_VERSION = '1';\nconst VERSION_PARAM = 'cv';\nasync function clearCaches() {\n  if ('caches' in window) {\n    try {\n      const cacheNames = await caches.keys();\n      const cachePromises = cacheNames.filter(name => name.includes('login-app')).map(name => caches.delete(name));\n      await Promise.all(cachePromises);\n      console.log('Caches cleared');\n    } catch (error) {\n      console.warn('Error clearing caches:', error);\n    }\n  }\n}\nasync function unregisterServiceWorkers() {\n  if ('serviceWorker' in navigator) {\n    try {\n      const registrations = await navigator.serviceWorker.getRegistrations();\n      for (const registration of registrations) {\n        await registration.unregister();\n      }\n      console.log('Service workers unregistered');\n    } catch (error) {\n      console.warn('Error unregistering service workers:', error);\n    }\n  }\n}\nfunction clearStorages() {\n  try {\n    // Only clear storage items that might cause conflicts\n    const clearKeys = [];\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (key && key.startsWith('dhis2')) {\n        clearKeys.push(key);\n      }\n    }\n    clearKeys.forEach(key => localStorage.removeItem(key));\n\n    // Clear session storage\n    sessionStorage.clear();\n  } catch (error) {\n    console.warn('Error clearing storage:', error);\n  }\n}\n\n// Main initialization\nexport async function initialize() {\n  // Skip in development\n  if (process.env.NODE_ENV !== 'production') {\n    return;\n  }\n  const url = new URL(window.location.href);\n  const currentVersion = url.searchParams.get(VERSION_PARAM);\n\n  // If version in URL doesn't match current version, update it\n  if (currentVersion !== CACHE_VERSION) {\n    // Store the current scroll position\n    sessionStorage.setItem('scrollPosition', window.scrollY);\n\n    // Update the version in URL without reloading if it's the first time\n    if (!currentVersion) {\n      url.searchParams.set(VERSION_PARAM, CACHE_VERSION);\n      window.history.replaceState({}, '', url);\n    } else {\n      // If version exists but doesn't match, do a hard reload\n      url.searchParams.set(VERSION_PARAM, CACHE_VERSION);\n      window.location.replace(url.toString());\n      return;\n    }\n  }\n\n  // Clear caches in the background if needed\n  if (!sessionStorage.getItem(`cacheCleared_${CACHE_VERSION}`)) {\n    sessionStorage.setItem(`cacheCleared_${CACHE_VERSION}`, 'true');\n    Promise.all([clearCaches(), unregisterServiceWorkers(), new Promise(resolve => {\n      setTimeout(() => {\n        clearStorages();\n        resolve();\n      }, 1000);\n    })]).catch(console.error);\n  }\n\n  // If we get here, we're on the correct version\n  console.log('Cache buster: Running version', CACHE_VERSION);\n}\nexport default {\n  initialize,\n  CACHE_VERSION,\n  VERSION_PARAM\n};","import i18n from '@dhis2/d2-i18n';\nexport const getIsRequired = lng => val => val ? undefined : i18n.t('This field is required', {\n  lng\n});\nexport const checkIsLoginFormValid = values => {\n  const isRequired = getIsRequired('en'); // 'en' because we do not need the actual translation for validation test\n  const validatorsByField = {\n    username: {\n      value: values.username,\n      validator: isRequired\n    },\n    password: {\n      value: values.password,\n      validator: isRequired\n    }\n  };\n  for (const key of Object.keys(validatorsByField)) {\n    if (validatorsByField[key].validator(validatorsByField[key].value)) {\n      return false;\n    }\n  }\n  return true;\n};\nexport const composeAndTranslateValidators = function () {\n  for (var _len = arguments.length, validators = new Array(_len), _key = 0; _key < _len; _key++) {\n    validators[_key] = arguments[_key];\n  }\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return validators.reduce((error, validator) => error || i18n.t(validator(...args)), undefined);\n  };\n};","import * as DOMPurify from 'dompurify';\nimport parse from 'html-react-parser';\nexport const removeHTMLTags = text => text.replace(/(<([^>]+)>)/gi, '');\nexport const sanitizeMainHTML = html => DOMPurify.sanitize(html, {\n  FORCE_BODY: true,\n  ADD_TAGS: ['style', 'iframe']\n});\nexport const convertHTML = html => parse(DOMPurify.sanitize(html));","export const parseLocale = unparsedLocale => unparsedLocale === null || unparsedLocale === void 0 ? void 0 : unparsedLocale.replaceAll('_', '-');\nexport const getLngsArray = locale => {\n  const [lng] = locale.split('_');\n  return lng === locale ? [locale] : [locale, lng];\n};","import { CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nconst Loader = () => /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\nexport { Loader };","import { createContext } from 'react';\nconst LoginConfigContext = /*#__PURE__*/createContext({\n  applicationDescription: 'undefined',\n  applicationFooter: 'undefined',\n  applicationNotification: 'undefined',\n  allowAccountRecovery: false,\n  applicationTitle: 'undefined',\n  countryFlag: 'undefined',\n  useCountryFlag: false,\n  loginPageLogo: null,\n  emailConfigured: false,\n  selfRegistrationEnabled: false,\n  selfRegistrationNoRecaptcha: false,\n  uiLocale: 'undefined',\n  localesUI: [],\n  refreshOnTranslation: 'undefined (function)',\n  defaultLoginPageLogo: './api/staticContent/logo_front',\n  hashRedirect: undefined,\n  lngs: ['en']\n});\nexport { LoginConfigContext };","import { useDataQuery, useDataEngine, useConfig } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { Loader } from '../components/loader.js';\nimport { getHashFromLocation, parseLocale, getLngsArray } from '../helpers/index.js';\nimport { LoginConfigContext } from './login-config-context.js';\nconst localStorageLocaleKey = 'dhis2.locale.ui';\nconst loginConfigQuery = {\n  loginConfig: {\n    resource: 'loginConfig',\n    params: _ref => {\n      let {\n        locale\n      } = _ref;\n      return {\n        paging: false,\n        locale\n      };\n    }\n  }\n};\nconst localesQuery = {\n  localesUI: {\n    resource: 'locales/ui'\n  }\n};\nconst translatableValues = ['applicationDescription', 'applicationLeftSideFooter', 'applicationRightSideFooter', 'applicationNotification', 'applicationTitle'];\n\n// defaults in case locales/ui fails\nconst defaultLocales = [{\n  locale: 'ar',\n  displayName: 'Arabic',\n  name: 'العربية'\n}, {\n  locale: 'en',\n  displayName: 'English',\n  name: 'English'\n}, {\n  locale: 'fr',\n  displayName: 'French',\n  name: 'français'\n}, {\n  locale: 'pt',\n  displayName: 'Portuguese',\n  name: 'português'\n}, {\n  locale: 'es',\n  displayName: 'Spanish',\n  name: 'español'\n}];\nconst LoginConfigProvider = _ref2 => {\n  var _localesData$localesU, _loginConfigData$logi2, _loginConfigData$logi3;\n  let {\n    initialLocation,\n    children\n  } = _ref2;\n  const {\n    data: loginConfigData,\n    loading: loginConfigLoading,\n    error: loginConfigError\n  } = useDataQuery(loginConfigQuery, {\n    variables: {\n      locale: localStorage.getItem(localStorageLocaleKey)\n    }\n  });\n  const {\n    data: localesData,\n    loading: localesLoading,\n    error: localesError\n  } = useDataQuery(localesQuery);\n  const config = useConfig();\n  const hashRedirect = getHashFromLocation(initialLocation);\n  const [translatedValues, setTranslatedValues] = useState();\n  useEffect(() => {\n    var _loginConfigData$logi;\n    // if there is a stored language, set it as i18next language\n    const userLanguage = localStorage.getItem(localStorageLocaleKey) || (loginConfigData === null || loginConfigData === void 0 ? void 0 : (_loginConfigData$logi = loginConfigData.loginConfig) === null || _loginConfigData$logi === void 0 ? void 0 : _loginConfigData$logi.uiLocale) || 'en';\n    setTranslatedValues({\n      uiLocale: userLanguage,\n      lngs: getLngsArray(userLanguage)\n    });\n    // direction will not be recognized if using a java-format locale code\n    i18n.changeLanguage(parseLocale(userLanguage));\n    document.documentElement.setAttribute('dir', i18n.dir());\n  }, []); //eslint-disable-line\n\n  const engine = useDataEngine();\n  const refreshOnTranslation = async _ref3 => {\n    let {\n      locale\n    } = _ref3;\n    if (!engine) {\n      return;\n    }\n    let updatedValues;\n    try {\n      updatedValues = await engine.query(loginConfigQuery, {\n        variables: {\n          locale\n        }\n      });\n    } catch (e) {\n      console.error(e);\n    }\n    // direction will not be recognized if using a java-format locale code\n    i18n.changeLanguage(parseLocale(locale));\n    document.documentElement.setAttribute('dir', i18n.dir());\n\n    // the logic here is wrong as it falls back to previous translations (rather than defaults)\n    // however, the api response will fall back to default system language (so this doesn't cause issues)\n    const updatedTranslations = translatableValues.reduce((translations, currentTranslationKey) => {\n      var _updatedValues, _updatedValues$loginC;\n      if ((_updatedValues = updatedValues) !== null && _updatedValues !== void 0 && (_updatedValues$loginC = _updatedValues.loginConfig) !== null && _updatedValues$loginC !== void 0 && _updatedValues$loginC[currentTranslationKey]) {\n        var _updatedValues2, _updatedValues2$login;\n        translations[currentTranslationKey] = (_updatedValues2 = updatedValues) === null || _updatedValues2 === void 0 ? void 0 : (_updatedValues2$login = _updatedValues2.loginConfig) === null || _updatedValues2$login === void 0 ? void 0 : _updatedValues2$login[currentTranslationKey];\n      }\n      return translations;\n    }, {});\n    setTranslatedValues({\n      ...updatedTranslations,\n      uiLocale: locale,\n      lngs: getLngsArray(locale)\n    }), localStorage.setItem(localStorageLocaleKey, locale);\n  };\n  if (loginConfigLoading || localesLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n\n  // the app will function without the appearance settings, so just console error\n  if (loginConfigError) {\n    console.error(loginConfigError);\n  }\n  if (localesError) {\n    console.error(localesError);\n  }\n  const providerValue = {\n    ...(loginConfigData === null || loginConfigData === void 0 ? void 0 : loginConfigData.loginConfig),\n    hashRedirect,\n    ...translatedValues,\n    localesUI: (_localesData$localesU = localesData === null || localesData === void 0 ? void 0 : localesData.localesUI) !== null && _localesData$localesU !== void 0 ? _localesData$localesU : defaultLocales,\n    systemLocale: (_loginConfigData$logi2 = loginConfigData === null || loginConfigData === void 0 ? void 0 : (_loginConfigData$logi3 = loginConfigData.loginConfig) === null || _loginConfigData$logi3 === void 0 ? void 0 : _loginConfigData$logi3.uiLocale) !== null && _loginConfigData$logi2 !== void 0 ? _loginConfigData$logi2 : 'en',\n    baseUrl: config === null || config === void 0 ? void 0 : config.baseUrl,\n    refreshOnTranslation\n  };\n  return /*#__PURE__*/React.createElement(LoginConfigContext.Provider, {\n    value: providerValue\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    dir: i18n.dir()\n  }, children));\n};\nLoginConfigProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  initialLocation: PropTypes.string\n};\nexport { LoginConfigProvider };","export const getHashFromLocation = initialLocation => {\n  if (!initialLocation) {\n    return undefined;\n  }\n  if (initialLocation.indexOf('#/') === -1) {\n    return undefined;\n  }\n  const initialHashExtension = initialLocation.substring(initialLocation.indexOf('#/') + 2);\n\n  // we check and exclude hash locations used by the login app\n  const loginHashLocations = ['create-account', 'complete-registration', 'reset-password', 'update-password', 'safeMode', 'download'];\n  return loginHashLocations.some(excludedLocation => initialHashExtension === null || initialHashExtension === void 0 ? void 0 : initialHashExtension.startsWith(excludedLocation)) ? undefined : `#/${initialHashExtension}`;\n};","import { useContext } from 'react';\nimport { LoginConfigContext } from './login-config-context.js';\nexport const useLoginConfig = () => useContext(LoginConfigContext);","import i18n from '@dhis2/d2-i18n';\nimport { Modal, ModalContent, ModalActions, Button, ButtonStrip } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useCallback, useState } from 'react';\nimport { convertHTML } from '../helpers/index.js';\nimport { useLoginConfig } from '../providers/index.js';\nconst PopupContents = _ref => {\n  let {\n    popupHTML\n  } = _ref;\n  const [popupOpen, setPopupOpen] = useState(true);\n  const closePopup = useCallback(() => {\n    setPopupOpen(false);\n  }, [setPopupOpen]);\n  if (!popupOpen) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(Modal, {\n    large: true,\n    position: \"middle\"\n  }, /*#__PURE__*/React.createElement(ModalContent, null, convertHTML(popupHTML)), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n    end: true\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: closePopup,\n    primary: true\n  }, i18n.t('I agree')))));\n};\nPopupContents.propTypes = {\n  popupHTML: PropTypes.string\n};\nexport const Popup = () => {\n  const {\n    loginPopup\n  } = useLoginConfig();\n  if (!(loginPopup !== null && loginPopup !== void 0 && loginPopup.length)) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(PopupContents, {\n    popupHTML: loginPopup\n  });\n};","// extracted by mini-css-extract-plugin\nexport default {\"fullWidth\":\"back-to-login-button_fullWidth__GyHyR\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@mui/material';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLoginConfig } from '../providers/index.js';\nimport styles from './back-to-login-button.module.css';\nexport const BackToLoginButton = _ref => {\n  let {\n    fullWidth,\n    buttonText\n  } = _ref;\n  const {\n    uiLocale\n  } = useLoginConfig();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"error\",\n    sx: {\n      borderRadius: 3,\n      textTransform: 'none'\n    },\n    className: fullWidth ? styles.fullWidth : null\n  }, buttonText !== null && buttonText !== void 0 ? buttonText : i18n.t('Back to sign in page', {\n    lng: uiLocale\n  }))));\n};\nBackToLoginButton.propTypes = {\n  buttonText: PropTypes.string,\n  fullWidth: PropTypes.bool\n};","// extracted by mini-css-extract-plugin\nexport default {\"formError\":\"form-notice_formError__126Kf\"};","import { NoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './form-notice.module.css';\nexport const FormNotice = _ref => {\n  let {\n    title,\n    error,\n    valid,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formError\n  }, /*#__PURE__*/React.createElement(NoticeBox, {\n    valid: valid,\n    error: error,\n    title: title\n  }, children));\n};\nFormNotice.defaultProps = {\n  error: false,\n  valid: false\n};\nFormNotice.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  error: PropTypes.bool,\n  title: PropTypes.string,\n  valid: PropTypes.bool\n};","// extracted by mini-css-extract-plugin\nexport default {\"formSubtitle\":\"form-subtitle_formSubtitle__78zEv\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './form-subtitle.module.css';\nexport const FormSubtitle = _ref => {\n  let {\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formSubtitle\n  }, children);\n};\nFormSubtitle.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired\n};","// extracted by mini-css-extract-plugin\nexport default {\"accountFormSection\":\"account-creation-form_accountFormSection__TGM6T\",\"accountFormSectionTitle\":\"account-creation-form_accountFormSectionTitle__piayb\",\"inputField\":\"account-creation-form_inputField__ZloJY\",\"recaptchaWarning\":\"account-creation-form_recaptchaWarning__-AFuW\",\"recaptchaWarningText\":\"account-creation-form_recaptchaWarningText__BazZ0\",\"links\":\"account-creation-form_links__kb1Lj\"};","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, InputFieldFF, ButtonStrip, IconErrorFilled24, colors } from '@dhis2/ui';\nimport { Button } from '@mui/material';\nimport { createCharacterLengthRange, dhis2Password, dhis2Username, email, internationalPhoneNumber } from '@dhis2/ui-forms';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport ReCAPTCHA from 'react-google-recaptcha';\nimport { Link } from 'react-router-dom';\nimport { BackToLoginButton } from '../components/back-to-login-button.js';\nimport { FormNotice } from '../components/form-notice.js';\nimport { FormSubtitle } from '../components/form-subtitle.js';\nimport { getIsRequired, removeHTMLTags, composeAndTranslateValidators } from '../helpers/index.js';\nimport { useLoginConfig } from '../providers/index.js';\nimport styles from './account-creation-form.module.css';\nexport const CREATE_FORM_TYPES = {\n  create: 'create',\n  confirm: 'confirm'\n};\nconst AccountFormSection = _ref => {\n  let {\n    children,\n    title\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.accountFormSection\n  }, title && /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.accountFormSectionTitle\n  }, title), children);\n};\nAccountFormSection.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  title: PropTypes.string\n};\nconst RecaptchaWarning = _ref2 => {\n  let {\n    lngs\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.recaptchaWarning\n  }, /*#__PURE__*/React.createElement(IconErrorFilled24, {\n    color: colors.red500\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.recaptchaWarningText\n  }, i18n.t('Please confirm that you are not a robot by checking the checkbox.', {\n    lngs\n  })));\n};\nRecaptchaWarning.propTypes = {\n  lngs: PropTypes.arrayOf(PropTypes.string)\n};\nconst InnerCreateAccountForm = _ref3 => {\n  var _lngs$;\n  let {\n    handleSubmit,\n    loading,\n    lngs,\n    prepopulatedFields,\n    emailConfigured,\n    recaptchaSite,\n    recaptchaRef,\n    recaptchaError,\n    selfRegistrationNoRecaptcha\n  } = _ref3;\n  const isRequired = getIsRequired(lngs === null || lngs === void 0 ? void 0 : lngs[0]);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(AccountFormSection, {\n    title: i18n.t('Sign in details', {\n      lngs\n    })\n  }, /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"username\",\n    label: i18n.t('Username', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: composeAndTranslateValidators(isRequired, dhis2Username),\n    initialValue: prepopulatedFields === null || prepopulatedFields === void 0 ? void 0 : prepopulatedFields.username,\n    readOnly: loading || Boolean(prepopulatedFields === null || prepopulatedFields === void 0 ? void 0 : prepopulatedFields.username)\n  }), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"password\",\n    label: i18n.t('Password', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: composeAndTranslateValidators(isRequired, dhis2Password),\n    type: \"password\",\n    readOnly: loading,\n    helpText: i18n.t('Minimum 8 characters, at least 1 uppercase, 1 lowercase, 1 number, 1 symbol')\n  })), /*#__PURE__*/React.createElement(AccountFormSection, {\n    title: i18n.t('Personal details', {\n      lngs\n    })\n  }, /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"firstName\",\n    label: i18n.t('First name', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: composeAndTranslateValidators(isRequired, createCharacterLengthRange(2, 160)),\n    readOnly: loading\n  }), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"surname\",\n    label: i18n.t('Last name', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: composeAndTranslateValidators(isRequired, createCharacterLengthRange(2, 160)),\n    readOnly: loading\n  }), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"email\",\n    label: i18n.t('Email', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: composeAndTranslateValidators(isRequired, email),\n    initialValue: prepopulatedFields === null || prepopulatedFields === void 0 ? void 0 : prepopulatedFields.email,\n    readOnly: loading || Boolean(prepopulatedFields === null || prepopulatedFields === void 0 ? void 0 : prepopulatedFields.email)\n  }), !emailConfigured && /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"phoneNumber\",\n    label: i18n.t('Phone number', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: composeAndTranslateValidators(isRequired, internationalPhoneNumber),\n    readOnly: loading\n  })), !selfRegistrationNoRecaptcha && /*#__PURE__*/React.createElement(AccountFormSection, null, /*#__PURE__*/React.createElement(ReCAPTCHA, {\n    ref: recaptchaRef,\n    sitekey: recaptchaSite,\n    hl: (_lngs$ = lngs === null || lngs === void 0 ? void 0 : lngs[0]) !== null && _lngs$ !== void 0 ? _lngs$ : 'en'\n  }), recaptchaError && /*#__PURE__*/React.createElement(RecaptchaWarning, null))), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    sx: {\n      borderRadius: 3,\n      bgcolor: '#009DFF',\n      textTransform: 'none'\n    },\n    type: \"submit\",\n    disabled: loading\n  }, loading ? i18n.t('Creating...', {\n    lngs\n  }) : i18n.t('Create account', {\n    lngs\n  })), /*#__PURE__*/React.createElement(BackToLoginButton, {\n    buttonText: i18n.t('Cancel', {\n      lngs\n    })\n  })));\n};\nInnerCreateAccountForm.propTypes = {\n  emailConfigured: PropTypes.bool,\n  handleSubmit: PropTypes.func,\n  lngs: PropTypes.arrayOf(PropTypes.string),\n  loading: PropTypes.bool,\n  prepopulatedFields: PropTypes.object,\n  recaptchaError: PropTypes.bool,\n  recaptchaRef: PropTypes.node,\n  recaptchaSite: PropTypes.string,\n  selfRegistrationNoRecaptcha: PropTypes.bool\n};\nexport const CreateAccountForm = _ref4 => {\n  let {\n    createType,\n    prepopulatedFields,\n    loading,\n    error,\n    data,\n    handleRegister,\n    recaptchaRef,\n    recaptchaError\n  } = _ref4;\n  // depends on https://dhis2.atlassian.net/browse/DHIS2-14615\n  const {\n    applicationTitle,\n    lngs,\n    emailConfigured,\n    recaptchaSite,\n    selfRegistrationNoRecaptcha\n  } = useLoginConfig();\n  useEffect(() => {\n    // we should scroll top top of the page when an error is registered, so user sees this\n    if (error) {\n      // this is not working?\n      window.scroll(0, 0);\n    }\n  }, [error]);\n  return /*#__PURE__*/React.createElement(\"div\", null, !error && /*#__PURE__*/React.createElement(FormSubtitle, null, createType === CREATE_FORM_TYPES.create && /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.links\n  }, i18n.t('Already have an account?', {\n    lngs\n  }), ' ', /*#__PURE__*/React.createElement(Link, {\n    to: \"/\"\n  }, i18n.t('Sign in.', {\n    lngs\n  })))), /*#__PURE__*/React.createElement(\"div\", null, error && /*#__PURE__*/React.createElement(FormNotice, {\n    title: i18n.t('Something went wrong, and we could not register your account', {\n      lngs\n    }),\n    error: true\n  }, /*#__PURE__*/React.createElement(\"span\", null, error === null || error === void 0 ? void 0 : error.message)), data && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormNotice, {\n    title: i18n.t('Account created successfully', {\n      lngs\n    }),\n    valid: true\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('You can use your username and password to sign in.', {\n    lngs\n  }))), /*#__PURE__*/React.createElement(BackToLoginButton, null)), !data && /*#__PURE__*/React.createElement(ReactFinalForm.Form, {\n    onSubmit: handleRegister\n  }, _ref5 => {\n    let {\n      handleSubmit\n    } = _ref5;\n    return /*#__PURE__*/React.createElement(InnerCreateAccountForm, {\n      handleSubmit: handleSubmit,\n      lngs: lngs,\n      loading: loading,\n      prepopulatedFields: prepopulatedFields,\n      emailConfigured: emailConfigured,\n      recaptchaSite: recaptchaSite,\n      recaptchaRef: recaptchaRef,\n      recaptchaError: recaptchaError,\n      selfRegistrationNoRecaptcha: selfRegistrationNoRecaptcha\n    });\n  })));\n};\nCreateAccountForm.propTypes = {\n  createType: PropTypes.string.isRequired,\n  handleRegister: PropTypes.func.isRequired,\n  data: PropTypes.object,\n  error: PropTypes.object,\n  loading: PropTypes.bool,\n  prepopulatedFields: PropTypes.object,\n  recaptchaError: PropTypes.bool,\n  recaptchaRef: PropTypes.node\n};","// extracted by mini-css-extract-plugin\nexport default {\"formContainer\":\"form-container_formContainer__DWqpz\",\"formContainerVariableWidth\":\"form-container_formContainerVariableWidth__J8F1a\",\"formTitle\":\"form-container_formTitle__DVbzs\"};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './form-container.module.css';\nexport const FormContainer = _ref => {\n  let {\n    children,\n    title,\n    variableWidth\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: variableWidth ? styles.formContainerVariableWidth : styles.formContainer\n  }, title && /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.formTitle\n  }, title), children);\n};\nFormContainer.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  title: PropTypes.string,\n  variableWidth: PropTypes.bool\n};","// extracted by mini-css-extract-plugin\nexport default {\"links\":\"login-links_links__ekjDn\"};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLoginConfig } from '../providers/index.js';\nimport styles from './login-links.module.css';\nexport const LoginLinks = _ref => {\n  let {\n    formUserName\n  } = _ref;\n  const {\n    allowAccountRecovery,\n    emailConfigured,\n    selfRegistrationEnabled,\n    lngs\n  } = useLoginConfig();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.links\n  }, allowAccountRecovery && emailConfigured && /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(Link, {\n    to: formUserName ? `/reset-password?username=${formUserName}` : `/reset-password`\n  }, i18n.t('Forgot password?', {\n    lngs\n  }))), selfRegistrationEnabled && /*#__PURE__*/React.createElement(\"span\", null, i18n.t(\"Don't have an account?\", {\n    lngs\n  }), ' ', /*#__PURE__*/React.createElement(Link, {\n    to: \"/create-account\"\n  }, i18n.t('Create now', {\n    lngs\n  })))));\n};\nLoginLinks.propTypes = {\n  formUserName: PropTypes.string\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { BackToLoginButton } from './back-to-login-button.js';\nimport { FormContainer } from './form-container.js';\nimport { FormNotice } from './form-notice.js';\nexport const NotAllowedNotice = _ref => {\n  let {\n    lngs\n  } = _ref;\n  return /*#__PURE__*/React.createElement(FormContainer, null, /*#__PURE__*/React.createElement(FormNotice, {\n    error: true\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('The requested page is not configured for your system', {\n    lngs\n  }))), /*#__PURE__*/React.createElement(BackToLoginButton, null));\n};\nNotAllowedNotice.propTypes = {\n  lngs: PropTypes.arrayOf(PropTypes.string)\n};\nexport const NotAllowedNoticeCreateAccount = _ref2 => {\n  let {\n    lngs\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(FormContainer, null, /*#__PURE__*/React.createElement(FormNotice, {\n    error: true,\n    title: i18n.t('Creating account not available', {\n      lngs\n    })\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Contact a system administrator to create an account.', {\n    lngs\n  }))), /*#__PURE__*/React.createElement(BackToLoginButton, null));\n};\nNotAllowedNoticeCreateAccount.propTypes = {\n  lngs: PropTypes.arrayOf(PropTypes.string)\n};","// extracted by mini-css-extract-plugin\nexport default {\"formButtons\":\"oidc-login-options_formButtons__7PedX\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useLoginConfig } from '../providers/index.js';\nimport styles from './oidc-login-options.module.css';\nconst loginTextStrings = {\n  login_with_google: i18n.t('Log in with Google'),\n  login_with_azure: i18n.t('Log in with Microsoft')\n};\nconst SVGIcon = _ref => {\n  let {\n    baseUrl,\n    endpoint\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"img\", {\n    height: \"24px\",\n    width: \"24px\",\n    src: `${baseUrl}${endpoint}`\n  }));\n};\nSVGIcon.propTypes = {\n  baseUrl: PropTypes.string,\n  endpoint: PropTypes.string\n};\nconst redirectToOIDC = _ref2 => {\n  let {\n    baseUrl,\n    endpoint\n  } = _ref2;\n  window.location.href = `${baseUrl}${endpoint}`;\n};\nexport const OIDCLoginOptions = () => {\n  const {\n    oidcProviders,\n    baseUrl,\n    lngs\n  } = useLoginConfig();\n  if (!((oidcProviders === null || oidcProviders === void 0 ? void 0 : oidcProviders.length) > 0)) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formButtons\n  }, oidcProviders.map(oidc => /*#__PURE__*/React.createElement(Button, {\n    icon: /*#__PURE__*/React.createElement(SVGIcon, {\n      baseUrl: baseUrl,\n      endpoint: oidc === null || oidc === void 0 ? void 0 : oidc.icon\n    }),\n    key: oidc === null || oidc === void 0 ? void 0 : oidc.id,\n    onClick: () => {\n      redirectToOIDC({\n        baseUrl,\n        endpoint: oidc === null || oidc === void 0 ? void 0 : oidc.url\n      });\n    }\n  }, loginTextStrings[oidc === null || oidc === void 0 ? void 0 : oidc.loginText] ? i18n.t(loginTextStrings[oidc.loginText], {\n    lngs\n  }) : oidc === null || oidc === void 0 ? void 0 : oidc.loginText)));\n};","import { useDataMutation } from '@dhis2/app-runtime';\nimport { useState } from 'react';\nimport { redirectTo, getRedirectString } from '../helpers/index.js';\nimport { useLoginConfig } from '../providers/index.js';\nconst LOGIN_STATUSES = {\n  incorrect2fa: 'INCORRECT_TWO_FACTOR_CODE',\n  notEnabled2fa: 'INVALID',\n  success: 'SUCCESS',\n  secondAttempt2fa: 'second_attempt_incorrect_2fa',\n  // this is internal logic to app\n  success2fa: 'SUCCESS_2fa',\n  passwordExpired: 'PASSWORD_EXPIRED',\n  accountDisabled: 'ACCOUNT_DISABLED',\n  accountLocked: 'ACCOUNT_LOCKED',\n  accountExpired: 'ACCOUNT_EXPIRED'\n};\nconst invalidTWOFA = [LOGIN_STATUSES.incorrect2fa, LOGIN_STATUSES.secondAttempt2fa];\nconst inaccessibleAccountStatuses = [LOGIN_STATUSES.accountDisabled, LOGIN_STATUSES.accountLocked, LOGIN_STATUSES.accountExpired];\nconst loginMutation = {\n  resource: 'auth/login',\n  type: 'create',\n  data: _ref => {\n    let {\n      username,\n      password,\n      twoFA\n    } = _ref;\n    return twoFA ? {\n      username,\n      password,\n      twoFactorCode: twoFA\n    } : {\n      username,\n      password\n    };\n  }\n};\nexport const useLogin = () => {\n  const {\n    baseUrl,\n    hashRedirect\n  } = useLoginConfig();\n  const [loginStatus, setLoginStatus] = useState(null);\n  const [error, setError] = useState(null);\n  const cancelTwoFA = () => {\n    setError(null);\n    setLoginStatus(null);\n  };\n  const handleSuccessfulLogin = response => {\n    setError(null);\n    // we need to distinguish between incorrect 2fa on second attempt\n    setLoginStatus(prev => invalidTWOFA.includes(prev) ? response.loginStatus === LOGIN_STATUSES.success ? LOGIN_STATUSES.success2fa : LOGIN_STATUSES.secondAttempt2fa : response.loginStatus);\n    if (response.loginStatus === LOGIN_STATUSES.success) {\n      const redirectString = getRedirectString({\n        response,\n        baseUrl,\n        hashRedirect\n      });\n      redirectTo(redirectString);\n    }\n  };\n  const handleUnsuccessfulLogin = error => {\n    console.error(error);\n    setLoginStatus(null);\n    setError(error);\n  };\n  const [login, {\n    loading,\n    fetching\n  }] = useDataMutation(loginMutation, {\n    onComplete: response => {\n      handleSuccessfulLogin(response);\n    },\n    onError: error => {\n      handleUnsuccessfulLogin(error);\n    }\n  });\n  return {\n    login,\n    cancelTwoFA,\n    loading: loading || fetching || [LOGIN_STATUSES.success, LOGIN_STATUSES.success2fa].includes(loginStatus),\n    error,\n    twoFAVerificationRequired: invalidTWOFA.includes(loginStatus) || loginStatus === LOGIN_STATUSES.success2fa,\n    twoFAIncorrect: loginStatus === LOGIN_STATUSES.secondAttempt2fa,\n    twoFANotEnabled: loginStatus === LOGIN_STATUSES.notEnabled2fa,\n    passwordExpired: loginStatus === LOGIN_STATUSES.passwordExpired,\n    accountInaccessible: inaccessibleAccountStatuses.includes(loginStatus),\n    unknownStatus: loginStatus !== null && !Object.values(LOGIN_STATUSES).includes(loginStatus)\n  };\n};","export const getRedirectString = _ref => {\n  let {\n    response,\n    baseUrl,\n    hashRedirect\n  } = _ref;\n  if (process.env.NODE_ENV === 'development') {\n    return baseUrl + (response === null || response === void 0 ? void 0 : response.redirectUrl) + (hashRedirect !== null && hashRedirect !== void 0 ? hashRedirect : '');\n  }\n  return response.redirectUrl ? `${response.redirectUrl}${hashRedirect !== null && hashRedirect !== void 0 ? hashRedirect : ''}` : baseUrl;\n};\nexport const redirectTo = redirectDestination => {\n  window.location.href = redirectDestination;\n};","import { useLoginConfig } from '../providers/index.js';\nexport const useGetErrorIfNotAllowed = requiredSettings => {\n  // redirect to main page if password reset is not allowed\n  const loginConfig = useLoginConfig();\n  let notAllowed = false;\n  for (const setting of requiredSettings) {\n    if (!loginConfig[setting]) {\n      notAllowed = true;\n      break;\n    }\n  }\n  return {\n    notAllowed\n  };\n};","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { BackToLoginButton, CreateAccountForm, CREATE_FORM_TYPES, FormContainer, FormNotice, NotAllowedNotice } from '../components/index.js';\nimport { useGetErrorIfNotAllowed } from '../hooks/index.js';\nimport { useLoginConfig } from '../providers/index.js';\nconst selfRegisterMutation = {\n  resource: 'auth/invite',\n  type: 'create',\n  data: data => data\n};\nconst CompleteRegistrationFormWrapper = _ref => {\n  let {\n    lngs\n  } = _ref;\n  // depends on https://dhis2.atlassian.net/browse/DHIS2-14617\n  const {\n    selfRegistrationNoRecaptcha\n  } = useLoginConfig();\n  const recaptchaRef = useRef();\n  const [recaptchaError, setRecaptchaError] = useState(false);\n  const [completeInvitation, {\n    loading,\n    fetching,\n    error,\n    data\n  }] = useDataMutation(selfRegisterMutation);\n  const [searchParams] = useSearchParams();\n  const token = searchParams.get('token');\n  const email = searchParams.get('email');\n  const username = searchParams.get('username');\n  if (!token || !email || !username) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormNotice, {\n      error: true,\n      title: i18n.t('Cannot process registration', {\n        lngs\n      })\n    }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Information required to process your registration is missing. Please contact your system administrator.'))), /*#__PURE__*/React.createElement(BackToLoginButton, null));\n  }\n  const prepopulatedFields = {\n    email,\n    username\n  };\n  const handleCompleteRegistration = values => {\n    setRecaptchaError(false);\n    const gRecaptchaResponse = selfRegistrationNoRecaptcha ? null : recaptchaRef.current.getValue();\n    if (!selfRegistrationNoRecaptcha && !gRecaptchaResponse) {\n      setRecaptchaError(true);\n      return;\n    }\n    completeInvitation(selfRegistrationNoRecaptcha ? {\n      ...values,\n      token\n    } : {\n      ...values,\n      token,\n      'g-recaptcha-response': gRecaptchaResponse\n    });\n  };\n  return /*#__PURE__*/React.createElement(CreateAccountForm, {\n    createType: CREATE_FORM_TYPES.complete,\n    emailVerificationOnSuccess: false,\n    loading: loading || fetching,\n    error: error,\n    data: data,\n    handleRegister: handleCompleteRegistration,\n    prepopulatedFields: prepopulatedFields,\n    recaptchaRef: recaptchaRef,\n    recaptchaError: recaptchaError\n  });\n};\nCompleteRegistrationFormWrapper.propTypes = {\n  lngs: PropTypes.arrayOf(PropTypes.string)\n};\nconst requiredPropsForCreateAccount = ['emailConfigured'];\nconst CompleteRegistrationPage = () => {\n  const {\n    lngs\n  } = useLoginConfig();\n  const {\n    notAllowed\n  } = useGetErrorIfNotAllowed(requiredPropsForCreateAccount);\n  if (notAllowed) {\n    return /*#__PURE__*/React.createElement(NotAllowedNotice, {\n      lngs: lngs\n    });\n  }\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    title: i18n.t('Create account', {\n      lngs\n    })\n  }, /*#__PURE__*/React.createElement(CompleteRegistrationFormWrapper, {\n    lngs: lngs\n  }));\n};\nexport default CompleteRegistrationPage;","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport React, { useRef, useState } from 'react';\nimport { CreateAccountForm, CREATE_FORM_TYPES, FormContainer, NotAllowedNoticeCreateAccount } from '../components/index.js';\nimport { useGetErrorIfNotAllowed } from '../hooks/index.js';\nimport { useLoginConfig } from '../providers/index.js';\nconst selfRegisterMutation = {\n  resource: 'auth/registration',\n  type: 'create',\n  data: data => data\n};\nconst CreateAccountFormWrapper = () => {\n  const {\n    selfRegistrationNoRecaptcha\n  } = useLoginConfig();\n  const recaptchaRef = useRef();\n  const [recaptchaError, setRecaptchaError] = useState(false);\n  const [selfRegister, {\n    loading,\n    fetching,\n    error,\n    data\n  }] = useDataMutation(selfRegisterMutation);\n  const handleSelfRegister = values => {\n    setRecaptchaError(false);\n    const gRecaptchaResponse = selfRegistrationNoRecaptcha ? null : recaptchaRef.current.getValue();\n    if (!selfRegistrationNoRecaptcha && !gRecaptchaResponse) {\n      setRecaptchaError(true);\n      return;\n    }\n    selfRegister(selfRegistrationNoRecaptcha ? values : {\n      ...values,\n      'g-recaptcha-response': gRecaptchaResponse\n    });\n  };\n  return /*#__PURE__*/React.createElement(CreateAccountForm, {\n    createType: CREATE_FORM_TYPES.create,\n    loading: loading || fetching,\n    error: error,\n    data: data,\n    handleRegister: handleSelfRegister,\n    prepopulatedFields: {},\n    recaptchaRef: recaptchaRef,\n    recaptchaError: recaptchaError\n  });\n};\nconst requiredPropsForCreateAccount = ['selfRegistrationEnabled'];\nconst CreateAccountPage = () => {\n  const {\n    lngs\n  } = useLoginConfig();\n  const {\n    notAllowed\n  } = useGetErrorIfNotAllowed(requiredPropsForCreateAccount);\n  if (notAllowed) {\n    return /*#__PURE__*/React.createElement(NotAllowedNoticeCreateAccount, {\n      lngs: lngs\n    });\n  }\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    title: i18n.t('Create account', {\n      lngs\n    }),\n    variableWidth: true\n  }, /*#__PURE__*/React.createElement(CreateAccountFormWrapper, null));\n};\nexport default CreateAccountPage;","// extracted by mini-css-extract-plugin\nexport default {\"inputField\":\"login_inputField__yGYRp\",\"marginAdd\":\"login_marginAdd__n73CM\",\"hiddenFields\":\"login_hiddenFields__s5yhX\",\"formButtons\":\"login_formButtons__dlhc8\"};","import i18n from '@dhis2/d2-i18n';\nimport { ReactFinalForm, InputFieldFF } from '@dhis2/ui';\nimport { Button } from '@mui/material';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef } from 'react';\nimport { useForm } from 'react-final-form';\nimport { Link } from 'react-router-dom';\nimport { ApplicationNotification, FormContainer, FormNotice, FormSubtitle, LoginLinks, OIDCLoginOptions } from '../components/index.js';\nimport { checkIsLoginFormValid, getIsRequired } from '../helpers/index.js';\nimport { useLogin } from '../hooks/index.js';\nimport { useLoginConfig } from '../providers/index.js';\nimport styles from './login.module.css';\nexport default function LoginPage() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LoginFormContainer, null));\n}\nconst LoginErrors = _ref => {\n  let {\n    lngs,\n    error,\n    twoFAIncorrect,\n    passwordExpired,\n    passwordResetEnabled,\n    accountInaccessible,\n    unknownStatus\n  } = _ref;\n  if (error) {\n    var _error$details, _error$details2;\n    return /*#__PURE__*/React.createElement(FormNotice, {\n      title: !(error !== null && error !== void 0 && (_error$details = error.details) !== null && _error$details !== void 0 && _error$details.httpStatusCode) || error.details.httpStatusCode >= 500 ? i18n.t('Something went wrong', {\n        lngs\n      }) : i18n.t('Incorrect username or password', {\n        lngs\n      }),\n      error: true\n    }, (!((_error$details2 = error.details) !== null && _error$details2 !== void 0 && _error$details2.httpStatusCode) || error.details.httpStatusCode >= 500) && /*#__PURE__*/React.createElement(\"span\", null, error === null || error === void 0 ? void 0 : error.message));\n  }\n  if (twoFAIncorrect) {\n    return /*#__PURE__*/React.createElement(FormNotice, {\n      title: i18n.t('Incorrect authentication code', {\n        lngs\n      }),\n      error: true\n    });\n  }\n  if (passwordExpired) {\n    return /*#__PURE__*/React.createElement(FormNotice, {\n      title: i18n.t('Password expired', {\n        lngs\n      }),\n      error: true\n    }, passwordResetEnabled ? /*#__PURE__*/React.createElement(Link, {\n      to: \"/reset-password\"\n    }, i18n.t('You can reset your password from the password reset page.')) : i18n.t('Contact your system administrator.'));\n  }\n  if (accountInaccessible) {\n    return /*#__PURE__*/React.createElement(FormNotice, {\n      title: i18n.t('Account not accessible', {\n        lngs\n      }),\n      error: true\n    }, i18n.t('Contact your system administrator.'));\n  }\n  if (unknownStatus) {\n    return /*#__PURE__*/React.createElement(FormNotice, {\n      title: i18n.t('Something went wrong', {\n        lngs\n      }),\n      error: true\n    }, i18n.t('Contact your system administrator.'));\n  }\n  return null;\n};\nLoginErrors.propTypes = {\n  accountInaccessible: PropTypes.bool,\n  error: PropTypes.object,\n  lngs: PropTypes.arrayOf(PropTypes.string),\n  passwordExpired: PropTypes.bool,\n  passwordResetEnabled: PropTypes.bool,\n  twoFAIncorrect: PropTypes.bool,\n  unknownStatus: PropTypes.bool\n};\nconst InnerLoginForm = _ref2 => {\n  let {\n    handleSubmit,\n    formSubmitted,\n    twoFAVerificationRequired,\n    cancelTwoFA,\n    lngs,\n    loading,\n    setFormUserName\n  } = _ref2;\n  const form = useForm();\n  const ref = useRef();\n  const clearTwoFA = () => {\n    var _ref$current;\n    form.change('password', undefined);\n    form.change('twoFA', undefined);\n    form.focus();\n    cancelTwoFA();\n    ref === null || ref === void 0 ? void 0 : (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.focus();\n  };\n  const loginButtonText = twoFAVerificationRequired ? i18n.t('Verify and sign in', {\n    lngs\n  }) : i18n.t('Sign in', {\n    lngs\n  });\n  const login2FAButtonText = twoFAVerificationRequired ? i18n.t('Verifying...', {\n    lngs\n  }) : i18n.t('Signing in...', {\n    lngs\n  });\n  const isRequired = getIsRequired(lngs[0]);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: twoFAVerificationRequired ? styles.hiddenFields : null\n  }, /*#__PURE__*/React.createElement(LoginLinks, null), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"username\",\n    label: i18n.t('Username', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: `${styles.inputField} ${styles.marginAdd}`,\n    validate: !formSubmitted ? null : isRequired,\n    key: formSubmitted ? 1 : 0,\n    initialFocus: !twoFAVerificationRequired,\n    onBlur: e => {\n      setFormUserName(e.value);\n    },\n    readOnly: loading\n  }), /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"password\",\n    label: i18n.t('Password', {\n      lngs\n    }),\n    type: \"password\",\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: !formSubmitted ? null : isRequired,\n    key: formSubmitted ? 2 : 3,\n    readOnly: loading\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: !twoFAVerificationRequired ? styles.hiddenFields : ''\n  }, /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"twoFA\",\n    label: i18n.t('Authentication code', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    initialValue: \"\",\n    initialFocus: twoFAVerificationRequired,\n    readOnly: loading\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formButtons\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    disabled: loading,\n    sx: {\n      borderRadius: 3,\n      bgcolor: '#009DFF',\n      textTransform: 'none'\n    },\n    variant: \"contained\"\n  }, loading ? login2FAButtonText : loginButtonText), twoFAVerificationRequired && /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    disabled: loading,\n    onClick: clearTwoFA\n  }, i18n.t('Cancel', {\n    lngs\n  }))));\n};\nInnerLoginForm.defaultProps = {\n  lngs: ['en']\n};\nInnerLoginForm.propTypes = {\n  cancelTwoFA: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  formSubmitted: PropTypes.bool,\n  lngs: PropTypes.arrayOf(PropTypes.string),\n  loading: PropTypes.bool,\n  setFormUserName: PropTypes.func,\n  twoFAVerificationRequired: PropTypes.bool\n};\nconst LoginForm = _ref3 => {\n  let {\n    login,\n    cancelTwoFA,\n    twoFAVerificationRequired,\n    twoFAIncorrect,\n    accountInaccessible,\n    passwordExpired,\n    passwordResetEnabled,\n    unknownStatus,\n    error,\n    loading,\n    setFormUserName,\n    lngs\n  } = _ref3;\n  const [formSubmitted, setFormSubmitted] = useState(false);\n  if (!login) {\n    return null;\n  }\n  const handleLogin = values => {\n    setFormSubmitted(true);\n    if (!checkIsLoginFormValid(values)) {\n      return;\n    }\n    login({\n      username: values.username,\n      password: values.password,\n      twoFA: values.twoFA\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(LoginErrors, {\n    lngs: lngs,\n    error: error,\n    twoFAIncorrect: twoFAIncorrect,\n    passwordExpired: passwordExpired,\n    passwordResetEnabled: passwordResetEnabled,\n    accountInaccessible: accountInaccessible,\n    unknownStatus: unknownStatus\n  }), /*#__PURE__*/React.createElement(ReactFinalForm.Form, {\n    onSubmit: handleLogin\n  }, _ref4 => {\n    let {\n      handleSubmit\n    } = _ref4;\n    return /*#__PURE__*/React.createElement(InnerLoginForm, {\n      handleSubmit: handleSubmit,\n      formSubmitted: formSubmitted,\n      twoFAVerificationRequired: twoFAVerificationRequired,\n      twoFAIncorrect: twoFAIncorrect,\n      cancelTwoFA: cancelTwoFA,\n      lngs: lngs,\n      loading: loading,\n      setFormUserName: setFormUserName\n    });\n  }));\n};\nLoginForm.defaultProps = {\n  lngs: ['en']\n};\nLoginForm.propTypes = {\n  accountInaccessible: PropTypes.bool,\n  cancelTwoFA: PropTypes.func,\n  error: PropTypes.object,\n  lngs: PropTypes.arrayOf(PropTypes.string),\n  loading: PropTypes.bool,\n  login: PropTypes.func,\n  passwordExpired: PropTypes.bool,\n  passwordResetEnabled: PropTypes.bool,\n  setFormUserName: PropTypes.func,\n  twoFAIncorrect: PropTypes.bool,\n  twoFAVerificationRequired: PropTypes.bool,\n  unknownStatus: PropTypes.bool\n};\n\n// this is set up this way to isolate styling from login form logic\nexport const LoginFormContainer = () => {\n  const {\n    login,\n    cancelTwoFA,\n    twoFAVerificationRequired,\n    twoFAIncorrect,\n    accountInaccessible,\n    passwordExpired,\n    unknownStatus,\n    error,\n    loading\n  } = useLogin();\n  const [formUserName, setFormUserName] = useState('');\n  const {\n    lngs,\n    allowAccountRecovery,\n    emailConfigured\n  } = useLoginConfig();\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    title: twoFAVerificationRequired ? i18n.t('Two-factor authentication', {\n      lngs\n    }) : i18n.t('Sign in', {\n      lngs\n    })\n  }, twoFAVerificationRequired && /*#__PURE__*/React.createElement(FormSubtitle, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Enter the code from your two-factor authentication app to sign in.', {\n    lngs\n  }))), /*#__PURE__*/React.createElement(LoginForm, {\n    setFormUserName: setFormUserName,\n    lngs: lngs,\n    login: login,\n    cancelTwoFA: cancelTwoFA,\n    twoFAVerificationRequired: twoFAVerificationRequired,\n    twoFAIncorrect: twoFAIncorrect,\n    accountInaccessible: accountInaccessible,\n    passwordExpired: passwordExpired,\n    passwordResetEnabled: allowAccountRecovery && emailConfigured,\n    unknownStatus: unknownStatus,\n    error: error,\n    loading: loading\n  }), !twoFAVerificationRequired && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(OIDCLoginOptions, null)));\n};","// extracted by mini-css-extract-plugin\nexport default {\"inputField\":\"password-reset-request_inputField__qsw3f\",\"formButtons\":\"password-reset-request_formButtons__2F939\",\"resetButton\":\"password-reset-request_resetButton__10bGB\"};","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ReactFinalForm, InputFieldFF } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { BackToLoginButton, FormContainer, FormNotice, FormSubtitle, NotAllowedNotice } from '../components/index.js';\nimport { getIsRequired } from '../helpers/index.js';\nimport { useGetErrorIfNotAllowed } from '../hooks/index.js';\nimport { useLoginConfig } from '../providers/index.js';\nimport styles from './password-reset-request.module.css';\nconst passwordResetRequestMutation = {\n  resource: 'auth/forgotPassword',\n  type: 'create',\n  data: _ref => {\n    let {\n      emailOrUsername\n    } = _ref;\n    return {\n      emailOrUsername\n    };\n  }\n};\nconst InnerPasswordResetRequestForm = _ref2 => {\n  let {\n    handleSubmit,\n    formSubmitted,\n    isRequired,\n    lngs,\n    loading\n  } = _ref2;\n  const [params] = useSearchParams();\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"emailOrUsername\",\n    label: i18n.t('Username or email', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: !formSubmitted ? null : isRequired,\n    key: formSubmitted ? 1 : 0,\n    initialFocus: true,\n    readOnly: loading,\n    initialValue: (params === null || params === void 0 ? void 0 : params.get('username')) || ''\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formButtons\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    disabled: loading,\n    className: styles.resetButton,\n    primary: true\n  }, loading ? i18n.t('Sending...', {\n    lngs\n  }) : i18n.t('Send password reset request', {\n    lngs\n  })), /*#__PURE__*/React.createElement(BackToLoginButton, {\n    fullWidth: true,\n    buttonText: i18n.t('Cancel', {\n      lngs\n    })\n  })));\n};\nInnerPasswordResetRequestForm.propTypes = {\n  formSubmitted: PropTypes.bool,\n  handleSubmit: PropTypes.func,\n  isRequired: PropTypes.func,\n  lngs: PropTypes.arrayOf(PropTypes.string),\n  loading: PropTypes.bool\n};\nexport const PasswordResetRequestForm = _ref3 => {\n  let {\n    lngs\n  } = _ref3;\n  // depends on https://dhis2.atlassian.net/browse/DHIS2-14618\n  const [resetPasswordRequest, {\n    loading,\n    fetching,\n    error,\n    data\n  }] = useDataMutation(passwordResetRequestMutation);\n  const [formSubmitted, setFormSubmitted] = useState(false);\n  const isRequired = getIsRequired(lngs === null || lngs === void 0 ? void 0 : lngs[0]);\n  const handlePasswordResetRequest = values => {\n    setFormSubmitted(true);\n    const validationError = isRequired(values.emailOrUsername);\n    if (validationError) {\n      return;\n    }\n    resetPasswordRequest({\n      emailOrUsername: values.emailOrUsername\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, error && /*#__PURE__*/React.createElement(FormNotice, {\n    title: i18n.t('Password reset failed', {\n      lngs\n    }),\n    error: true\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Something went wrong. Please try again later, and contact your system administrator if the problem persists.', {\n    lngs\n  }))), data && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormNotice, {\n    valid: true\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('If the provided username or email is registered in the system, you will soon receive an email with a password reset link.', {\n    lngs\n  }))), /*#__PURE__*/React.createElement(BackToLoginButton, {\n    fullWidth: true\n  })), !data && /*#__PURE__*/React.createElement(ReactFinalForm.Form, {\n    onSubmit: handlePasswordResetRequest\n  }, _ref4 => {\n    let {\n      handleSubmit\n    } = _ref4;\n    return /*#__PURE__*/React.createElement(InnerPasswordResetRequestForm, {\n      handleSubmit: handleSubmit,\n      formSubmitted: formSubmitted,\n      isRequired: isRequired,\n      lngs: lngs,\n      loading: loading || fetching\n    });\n  }));\n};\nPasswordResetRequestForm.defaultProps = {\n  lngs: ['en']\n};\nPasswordResetRequestForm.propTypes = {\n  lngs: PropTypes.arrayOf(PropTypes.string)\n};\nconst requiredPropsForPasswordReset = ['allowAccountRecovery', 'emailConfigured'];\nconst PasswordResetRequestPage = () => {\n  const {\n    lngs\n  } = useLoginConfig();\n  const {\n    notAllowed\n  } = useGetErrorIfNotAllowed(requiredPropsForPasswordReset);\n  if (notAllowed) {\n    return /*#__PURE__*/React.createElement(NotAllowedNotice, {\n      lngs: lngs\n    });\n  }\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    title: i18n.t('Reset password', {\n      lngs\n    })\n  }, /*#__PURE__*/React.createElement(FormSubtitle, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Enter your username below, a link to reset your password will be sent to your registered e-mail.', {\n    lngs\n  }))), /*#__PURE__*/React.createElement(PasswordResetRequestForm, {\n    lngs: lngs\n  }));\n};\nexport default PasswordResetRequestPage;","// extracted by mini-css-extract-plugin\nexport default {\"inputField\":\"password-update_inputField__W1cmo\",\"formButtons\":\"password-update_formButtons__ySf07\",\"resetButton\":\"password-update_resetButton__hEtny\"};","import { useDataMutation } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, ReactFinalForm, InputFieldFF } from '@dhis2/ui';\nimport { dhis2Password } from '@dhis2/ui-forms';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { BackToLoginButton, FormContainer, FormNotice, FormSubtitle, NotAllowedNotice } from '../components/index.js';\nimport { getIsRequired, composeAndTranslateValidators } from '../helpers/index.js';\nimport { useGetErrorIfNotAllowed } from '../hooks/index.js';\nimport { useLoginConfig } from '../providers/index.js';\nimport styles from './password-update.module.css';\nconst passwordUpdateMutation = {\n  resource: 'auth/passwordReset',\n  type: 'create',\n  data: data => ({\n    ...data\n  })\n};\nconst InnerPasswordUpdateForm = _ref => {\n  let {\n    handleSubmit,\n    lngs,\n    loading\n  } = _ref;\n  const isRequired = getIsRequired(lngs === null || lngs === void 0 ? void 0 : lngs[0]);\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ReactFinalForm.Field, {\n    name: \"password\",\n    type: \"password\",\n    label: i18n.t('Password', {\n      lngs\n    }),\n    component: InputFieldFF,\n    className: styles.inputField,\n    validate: composeAndTranslateValidators(isRequired, dhis2Password),\n    initialFocus: true,\n    readOnly: loading\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formButtons\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    disabled: loading,\n    className: styles.resetButton,\n    primary: true\n  }, loading ? i18n.t('Saving...', {\n    lngs\n  }) : i18n.t('Save new password', {\n    lngs\n  })), /*#__PURE__*/React.createElement(BackToLoginButton, {\n    buttonText: i18n.t('Cancel', {\n      lngs\n    })\n  })));\n};\nInnerPasswordUpdateForm.propTypes = {\n  handleSubmit: PropTypes.func,\n  lngs: PropTypes.arrayOf(PropTypes.string),\n  loading: PropTypes.bool\n};\nexport const PasswordUpdateForm = _ref2 => {\n  let {\n    token,\n    lngs\n  } = _ref2;\n  // depends on https://dhis2.atlassian.net/browse/DHIS2-14618\n  const [updatePassword, {\n    loading,\n    fetching,\n    error,\n    data\n  }] = useDataMutation(passwordUpdateMutation);\n  const handlePasswordUpdate = values => {\n    updatePassword({\n      newPassword: values.password,\n      token\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", null, error && /*#__PURE__*/React.createElement(FormNotice, {\n    title: i18n.t('New password not saved', {\n      lngs\n    }),\n    error: true\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('There was a problem saving your password. Try again or contact your system administrator.', {\n    lngs\n  }))), data && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormNotice, {\n    valid: true\n  }, /*#__PURE__*/React.createElement(\"span\", null, i18n.t('New password saved. You can use it to sign in to your account.', {\n    lngs\n  }))), /*#__PURE__*/React.createElement(BackToLoginButton, {\n    fullWidth: true\n  })), !data && /*#__PURE__*/React.createElement(ReactFinalForm.Form, {\n    onSubmit: handlePasswordUpdate\n  }, _ref3 => {\n    let {\n      handleSubmit\n    } = _ref3;\n    return /*#__PURE__*/React.createElement(InnerPasswordUpdateForm, {\n      handleSubmit: handleSubmit,\n      lngs: lngs,\n      loading: loading || fetching\n    });\n  }))));\n};\nPasswordUpdateForm.defaultProps = {\n  lngs: ['en']\n};\nPasswordUpdateForm.propTypes = {\n  lngs: PropTypes.arrayOf(PropTypes.string),\n  token: PropTypes.string\n};\n\n// presumably these would need to be allowed\nconst requiredPropsForPasswordReset = ['allowAccountRecovery', 'emailConfigured'];\nconst PasswordUpdatePage = () => {\n  const {\n    lngs\n  } = useLoginConfig();\n  const [searchParams] = useSearchParams();\n  const token = searchParams.get('token') || '';\n  // display error if token is invalid?\n  const {\n    notAllowed\n  } = useGetErrorIfNotAllowed(requiredPropsForPasswordReset);\n  if (notAllowed) {\n    return /*#__PURE__*/React.createElement(NotAllowedNotice, {\n      lngs: lngs\n    });\n  }\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    title: i18n.t('Choose new password', {\n      lngs\n    })\n  }, /*#__PURE__*/React.createElement(FormSubtitle, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Enter the new password for your account below', {\n    lngs\n  }))), /*#__PURE__*/React.createElement(PasswordUpdateForm, {\n    lngs: lngs,\n    token: token\n  }));\n};\nexport default PasswordUpdatePage;","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { useLoginConfig } from '../providers/index.js';\nconst SAFE_MODE_ENDPOINT = 'dhis-web-commons/security/login.action';\nconst SafeModePage = () => {\n  const {\n    baseUrl,\n    lngs\n  } = useLoginConfig();\n  const safeURL = `${baseUrl}/${SAFE_MODE_ENDPOINT}`;\n  useEffect(() => {\n    window.location.href = `${baseUrl}/${SAFE_MODE_ENDPOINT}`;\n  }, [baseUrl]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('You should shortly be redirected. If you are not redirected, please click redirect button.', {\n    lngs\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"a\", {\n    rel: \"noopener noreferrer\",\n    href: safeURL\n  }, /*#__PURE__*/React.createElement(Button, null, \"Redirect\"))));\n};\nexport default SafeModePage;","export const standard = `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <style>\n      :root {\n        --form-container-background-color: white;\n        --form-container-font-color: black;\n        --form-container-box-shadow: var(--elevations-e400);\n        --form-container-box-border-radius: 5px;\n      }\n\n      * {\n        box-sizing: border-box;\n      }\n\n      body, html {\n        margin: 0;\n        padding: 0;\n        height: 100vh;\n        width: 100vw;\n        background: #003D8F;\n        font-family: \"Roboto\", sans-serif;\n      }\n\n      .app {\n        display: flex;\n        flex-direction: column;\n        height: 100vh;\n        width: 100vw;\n        max-width: 100%;\n        justify-content: flex-start;\n      }\n\n      .heading {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: space-between;\n        align-items: stretch;\n        gap: 8px;\n        min-height: 164px;\n        padding: 24px;\n      }\n\n      .title-container {\n        display: flex;\n        gap: 16px;\n      }\n\n      .flag-wrapper {\n        white-space: nowrap;\n        display: inline;\n      }\n\n      .flag-wrapper img {\n        max-height: 64px;\n        width: auto;\n        border: 1px solid white;\n      }\n\n      .titles {\n        max-width: 480px;\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n      }\n\n      .application-title-wrapper,\n      .application-introduction-wrapper {\n        color: var(--colors-grey050);\n      }\n\n      .application-title-wrapper {\n        font-size: 20px;\n        line-height: 28px;\n      }\n\n      .application-introduction-wrapper {\n        font-size: 14px;\n        line-height: 19px;\n        opacity: 0.7;\n      }\n\n      .company-logo {\n        text-align: center;\n        margin: 0 auto;\n        margin-top: 40px;\n        margin-bottom: 20px;\n      }\n\n      .company-logo img {\n        width: 100px;\n        height: 100px;\n        object-fit: contain;\n        filter: brightness(0) invert(1);\n      }\n\n      .company-logo p {\n        color: #1e3c72;\n        font-size: 35px;\n        font-weight: 700;\n      }\n\n      .logo-wrapper {\n        max-width: 200px;\n        max-height: 120px;\n      }\n\n      .logo-wrapper img {\n        width: 100%;\n      }\n\n      .login-container {\n        flex-grow: 1;\n        overflow: auto;\n        margin: 0 auto;\n        max-height: 75%;\n      }\n\n      .footer {\n        margin-top: auto;\n        display: flex;\n        flex-wrap: wrap;\n        align-items: center;\n        justify-content: space-between;\n        gap: 12px 4px;\n        padding: 4px 16px;\n        border-top: 1px solid #1e3c72;\n      }\n\n      .footerRTL {\n        flex-direction: row-reverse;\n      }\n\n      .footer span,\n      .footer a {\n        font-size: 14px;\n        line-height: 19px;\n        color: #fbfcfd;\n        opacity: 0.7;\n      }\n\n      .footer a {\n        opacity: 1;\n      }\n\n      .footer-left {\n        display: flex;\n        gap: 8px;\n      }\n\n      .powered-by-wrapper::after {\n        content: '|';\n        margin: 0 8px;\n        color: #1e3c72;\n      }\n\n      .footer-right {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n      }\n    </style>\n  </head>\n  <body>\n    <div class=\"app\">\n      <div class=\"company-logo\">\n        <img\n          src=\"https://res.cloudinary.com/diaxcqxfp/image/upload/v1744373110/sims-logo.png\"\n          alt=\"SIMS Logo\"\n        />\n      </div>\n      <div class=\"login-container\">\n        <div id=\"login-box\"></div>\n      </div>\n    </div>\n  </body>\n</html>\n`;","export const sidebar = `\n<!DOCTYPE html>\n<html lang=\"en\">\n\t<head>\n\t\t<style>\n      :root {\n        --form-container-padding: 0px;\n        --form-container-background-color: white;\n        --form-container-font-color: black;\n        --form-container-box-shadow: 0;\n        --form-container-box-border-radius: 0px;\n        --form-title-font-weight: 400;\n      }    \n      body {\n        font-family: 'Roboto', sans-serif;\n        margin: 0;\n        padding: 0;\n        height: 100vh;\n        width: 100vw;\n      }\n\n      .wrapper {\n        display: flex;\n      }\n\n      .sidebar {        \n        min-height: 100vh;              \n        display: flex;\n        justify-content: center;\n      }\n\n      .sidebar-inner {\n        display: flex;\n        flex-direction: column;\n      }\n\n      .top-elements {\n        display: flex;\n        justify-content: flex-start;\n        margin-block: 16px;\n      }\n\n      .flag-wrapper {\n        white-space: nowrap;\n        display: inline;\n        justify-content: flex-start;\n        margin-inline-end: 24px;\n      }\n\n      .flag-wrapper img {\n        max-height: 64px;\n        width: auto;\n        border: 1px solid white;\n      }      \n\n      .application-title-wrapper {\n        font-size: 28px;\n        font-weight: 400;\n\n      }\n\n      .application-introduction-wrapper {\n        font-size: 16px;\n        margin-block-start: 8px;\n        margin-block-end: 32px;\n      }\n\n      .main-content {\n        height: 100vh;\n        width: 100%;\n        display: flex;\n        flex-flow: column;\n        background: linear-gradient(180deg, #2A5298 0%, #1E3C72 100%);\n      }\n\n      .language-select-wrapper {\n        width: 100%;\n        margin-block: 8px;\n        display: flex;\n        justify-content: flex-start;\n      }\n\n      .login-box-wrapper {        \n        display: flex;\n        flex-direction: column;\n        height: 100%;\n      }\n\n      .footer-items * {\n        margin-block: 8px;\n      }\n\n      @media screen and (min-width: 420px) {\n        .sidebar {\n          min-width: 420px;\n        }\n      }\n\n      @media screen and (max-width: 420px) {\n        .main-content {\n          display: none;\n        }\n        .sidebar {\n          padding: 8px;\n        }\n      }\n\n    </style>\n\t</head>\n\t<body>\n\t\t<div class='wrapper'>\n\t\t\t<div class='sidebar'>\n\t\t\t\t<div class='sidebar-inner'>\n\t\t\t\t\t<div class='top-elements'>\n\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='login-box-wrapper'>\n\t\t\t\t\t\t<div id='login-box'></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class='main-content'></div>\n\t\t</div>\n\t</body>\n</html>\n`;","// extracted by mini-css-extract-plugin\nexport default {\"formButtons\":\"download-html_formButtons__hg9aH\"};","import i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport React from 'react';\nimport { FormContainer } from '../components/index.js';\nimport { standard, sidebar } from '../templates/index.js';\nimport styles from './download-html.module.css';\nconst downloadHTML = (htmlString, htmlName) => {\n  const blob = htmlString;\n  // Create blob link to download\n  const url = window.URL.createObjectURL(new Blob([blob]));\n  const link = document.createElement('a');\n  link.href = url;\n  link.setAttribute('download', `${htmlName}.html`);\n  document.body.appendChild(link);\n  link.click();\n  link.parentNode.removeChild(link);\n};\nconst DownloadPage = () => {\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    title: i18n.t('HTML Template Download')\n  }, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"p\", null, i18n.t('You can download the templates used by the login app here. These can be modified and reloaded as custom HTML in the settings app.')), /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Refer to the documentation for more details.'))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formButtons\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      downloadHTML(standard, 'standard');\n    }\n  }, i18n.t('Download default template'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.formButtons\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      downloadHTML(sidebar, 'sidebar');\n    }\n  }, i18n.t('Download sidebar template')))));\n};\nexport default DownloadPage;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport fiTranslations from './fi/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_Cyrl_UZTranslations from './uz_Cyrl_UZ/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fi', namespace, fiTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl_UZ', namespace, uz_Cyrl_UZTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { CssReset, CssVariables } from '@dhis2/ui';\nimport { useEffect } from 'react';\nimport cacheBuster from './helpers/cacheBuster';\nimport parse from 'html-react-parser';\nimport React from 'react';\nimport { HashRouter, Navigate, Routes, Route } from 'react-router-dom';\nimport { ApplicationDescription, ApplicationLeftFooter, ApplicationRightFooter, ApplicationTitle, Flag, LanguageSelect, Logo, PoweredByDHIS2 } from './components/customizable-elements.js';\nimport { Popup } from './components/pop-up.js';\nimport { sanitizeMainHTML } from './helpers/handleHTML.js';\nimport { LoginPage, CompleteRegistrationPage, CreateAccountPage, PasswordResetRequestPage, PasswordUpdatePage, SafeModePage, DownloadPage } from './pages/index.js';\nimport { LoginConfigProvider, useLoginConfig } from './providers/index.js';\nimport i18n from './locales/index.js'; // eslint-disable-line\nimport { standard, sidebar } from './templates/index.js';\nconst LoginRoutes = () => {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Popup, null), /*#__PURE__*/React.createElement(Routes, null, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(LoginPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/create-account\",\n    element: /*#__PURE__*/React.createElement(CreateAccountPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/complete-registration\",\n    element: /*#__PURE__*/React.createElement(CompleteRegistrationPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/reset-password\",\n    element: /*#__PURE__*/React.createElement(PasswordResetRequestPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/update-password\",\n    element: /*#__PURE__*/React.createElement(PasswordUpdatePage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/safeMode\",\n    element: /*#__PURE__*/React.createElement(SafeModePage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/download\",\n    element: /*#__PURE__*/React.createElement(DownloadPage, null)\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"*\",\n    element: /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/\"\n    })\n  })));\n};\nconst options = {\n  replace: _ref => {\n    let {\n      attribs\n    } = _ref;\n    if (!attribs) {\n      return;\n    }\n    if (attribs.id === 'login-box') {\n      return /*#__PURE__*/React.createElement(LoginRoutes, null);\n    }\n\n    // if (attribs.id === 'application-title') {\n    //     return <ApplicationTitle />\n    // }\n\n    // if (attribs.id === 'application-introduction') {\n    //     return <ApplicationDescription />\n    // }\n\n    // if (attribs.id === 'flag') {\n    //     return <Flag />\n    // }\n\n    // if (attribs.id === 'logo') {\n    //     return <Logo />\n    // }\n\n    // if (attribs.id === 'powered-by') {\n    //     return <PoweredByDHIS2 />\n    // }\n\n    // if (attribs.id === 'application-left-footer') {\n    //     return <ApplicationLeftFooter />\n    // }\n\n    // if (attribs.id === 'application-right-footer') {\n    //     return <ApplicationRightFooter />\n    // }\n\n    // if (attribs.id === 'language-select') {\n    //     return <LanguageSelect />\n    // }\n  }\n};\nexport const AppContent = () => {\n  const {\n    loginPageLayout,\n    loginPageTemplate\n  } = useLoginConfig();\n  let html;\n  if (loginPageLayout === 'SIDEBAR') {\n    html = sidebar;\n  } else if (loginPageLayout === 'CUSTOM') {\n    html = loginPageTemplate !== null && loginPageTemplate !== void 0 ? loginPageTemplate : standard;\n  } else {\n    html = standard;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, parse(sanitizeMainHTML(html), options));\n};\nconst App = () => {\n  var _window, _window$location;\n  useEffect(() => {\n    cacheBuster.initialize();\n  }, []);\n  return /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(LoginConfigProvider, {\n    initialLocation: (_window = window) === null || _window === void 0 ? void 0 : (_window$location = _window.location) === null || _window$location === void 0 ? void 0 : _window$location.href\n  }, /*#__PURE__*/React.createElement(CssReset, null), /*#__PURE__*/React.createElement(CssVariables, {\n    colors: true,\n    spacers: true,\n    theme: true,\n    elevations: true\n  }), /*#__PURE__*/React.createElement(AppContent, null)));\n};\nexport default App;"],"names":["CACHE_VERSION","VERSION_PARAM","async","clearCaches","window","cachePromises","caches","keys","filter","name","includes","map","delete","Promise","all","console","log","error","warn","unregisterServiceWorkers","navigator","registrations","serviceWorker","getRegistrations","registration","unregister","initialize","url","URL","location","href","currentVersion","searchParams","get","sessionStorage","setItem","scrollY","set","replace","toString","history","replaceState","getItem","resolve","setTimeout","clearKeys","i","localStorage","length","key","startsWith","push","forEach","removeItem","clear","clearStorages","catch","getIsRequired","lng","val","undefined","i18n","t","composeAndTranslateValidators","_len","arguments","validators","Array","_key","_len2","args","_key2","reduce","validator","parseLocale","unparsedLocale","replaceAll","getLngsArray","locale","split","Loader","React","CenteredContent","CircularLoader","LoginConfigContext","createContext","applicationDescription","applicationFooter","applicationNotification","allowAccountRecovery","applicationTitle","countryFlag","useCountryFlag","loginPageLogo","emailConfigured","selfRegistrationEnabled","selfRegistrationNoRecaptcha","uiLocale","localesUI","refreshOnTranslation","defaultLoginPageLogo","hashRedirect","lngs","localStorageLocaleKey","loginConfigQuery","loginConfig","resource","params","_ref","paging","localesQuery","translatableValues","defaultLocales","displayName","LoginConfigProvider","_ref2","_localesData$localesU","_loginConfigData$logi2","_loginConfigData$logi3","initialLocation","children","data","loginConfigData","loading","loginConfigLoading","loginConfigError","useDataQuery","variables","localesData","localesLoading","localesError","config","useConfig","indexOf","initialHashExtension","substring","some","excludedLocation","getHashFromLocation","translatedValues","setTranslatedValues","useState","useEffect","_loginConfigData$logi","userLanguage","changeLanguage","document","documentElement","setAttribute","dir","engine","useDataEngine","providerValue","systemLocale","baseUrl","updatedValues","_ref3","query","e","updatedTranslations","translations","currentTranslationKey","_updatedValues","_updatedValues$loginC","_updatedValues2","_updatedValues2$login","Provider","value","useLoginConfig","useContext","PopupContents","popupHTML","popupOpen","setPopupOpen","closePopup","useCallback","Modal","large","position","ModalContent","html","parse","DOMPurify","ModalActions","ButtonStrip","end","Button","onClick","primary","Popup","loginPopup","BackToLoginButton","fullWidth","buttonText","Link","to","variant","color","sx","borderRadius","textTransform","className","styles","FormNotice","title","valid","NoticeBox","defaultProps","FormSubtitle","CREATE_FORM_TYPES","create","confirm","AccountFormSection","RecaptchaWarning","IconErrorFilled24","colors","red500","InnerCreateAccountForm","_lngs$","handleSubmit","prepopulatedFields","recaptchaSite","recaptchaRef","recaptchaError","isRequired","onSubmit","ReactFinalForm","label","component","InputFieldFF","validate","dhis2Username","initialValue","username","readOnly","Boolean","dhis2Password","type","helpText","createCharacterLengthRange","email","internationalPhoneNumber","ReCAPTCHA","ref","sitekey","hl","bgcolor","disabled","CreateAccountForm","_ref4","createType","handleRegister","scroll","message","_ref5","FormContainer","variableWidth","LoginLinks","formUserName","NotAllowedNotice","NotAllowedNoticeCreateAccount","loginTextStrings","login_with_google","login_with_azure","SVGIcon","endpoint","height","width","src","OIDCLoginOptions","oidcProviders","oidc","icon","id","redirectToOIDC","loginText","LOGIN_STATUSES","incorrect2fa","notEnabled2fa","success","secondAttempt2fa","success2fa","passwordExpired","accountDisabled","accountLocked","accountExpired","invalidTWOFA","inaccessibleAccountStatuses","loginMutation","password","twoFA","twoFactorCode","useLogin","loginStatus","setLoginStatus","setError","handleSuccessfulLogin","response","prev","redirectString","redirectUrl","getRedirectString","redirectDestination","login","fetching","useDataMutation","onComplete","onError","handleUnsuccessfulLogin","cancelTwoFA","twoFAVerificationRequired","twoFAIncorrect","twoFANotEnabled","accountInaccessible","unknownStatus","Object","values","useGetErrorIfNotAllowed","requiredSettings","notAllowed","setting","selfRegisterMutation","CompleteRegistrationFormWrapper","useRef","setRecaptchaError","completeInvitation","useSearchParams","token","complete","emailVerificationOnSuccess","gRecaptchaResponse","current","getValue","requiredPropsForCreateAccount","CompleteRegistrationPage","CreateAccountFormWrapper","selfRegister","CreateAccountPage","LoginPage","LoginFormContainer","LoginErrors","passwordResetEnabled","_error$details","_error$details2","details","httpStatusCode","InnerLoginForm","formSubmitted","setFormUserName","form","useForm","loginButtonText","login2FAButtonText","initialFocus","onBlur","clearTwoFA","_ref$current","change","focus","LoginForm","setFormSubmitted","validatorsByField","checkIsLoginFormValid","passwordResetRequestMutation","emailOrUsername","InnerPasswordResetRequestForm","PasswordResetRequestForm","resetPasswordRequest","requiredPropsForPasswordReset","PasswordResetRequestPage","passwordUpdateMutation","InnerPasswordUpdateForm","PasswordUpdateForm","updatePassword","newPassword","PasswordUpdatePage","SAFE_MODE_ENDPOINT","SafeModePage","safeURL","rel","standard","sidebar","downloadHTML","htmlString","htmlName","blob","createObjectURL","Blob","link","createElement","body","appendChild","click","parentNode","removeChild","DownloadPage","namespace","addResources","arTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","fiTranslations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","neTranslations","nlTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_Cyrl_UZTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","LoginRoutes","Routes","Route","path","element","Navigate","options","attribs","AppContent","loginPageLayout","loginPageTemplate","FORCE_BODY","ADD_TAGS","sanitizeMainHTML","App","_window","_window$location","cacheBuster","HashRouter","CssReset","CssVariables","spacers","theme","elevations"],"sourceRoot":""}